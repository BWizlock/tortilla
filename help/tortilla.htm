<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<meta http-equiv="content-language" content="ru">
<title>Tortilla мад клиент</title>
<style type="text/css">
body{ background-color: #202020; color: #ffffff; font-size: 16px; font-family: consolas, tahoma; }
h1 { font-size: 40px; color: RGB(210,121,32); align: center; }
h2 { font-size: 28px; color: #1e9da8; }
h3 { font-size: 18px; color: #1e9da8; margin-bottom: 4px; }
h4 { font-size: 18px; color: yellow; margin-bottom: 2px; }
.t { color: #20c020; display: inline; }
.m { color: #20c020; display: inline; }
.e { color: #2080c0; display: inline; }
.y { color: #70d0d0; display: inline; }
.ee { color: #909090; border-width: 1px; border-style: solid; width: 40% }
.cmd { color: yellow; display: inline; }
.leftimg { float:left; margin: 7px 7px 7px 0; }
.rightimg  { float: right; margin: 7px 0 7px 7px; }
a.content { color: #20c020; }
hr { border: 1px dashed; color: #909090; }
</style>
</head>
<body link="#3366cc" alink="#ff0000" vlink="#3366cc">
<a name="top"></a>
<center><h1>Tortilla<br>клиент для текстовых многопользовательских онлайновых игр</h1></center>
<h2>Содержание</h2>
<ul>
<li><a href="#introduction">Введение</a></li>
<li><a href="#capabilities">Возможности</a></li>
<li><a href="#interface">Интерфейс</a></li>
<li><a href="#features">Особенности работы клиента</a></li>
<li><a href="#commands">Системные команды клиента</a></li>
<li><a href="#jmc3">Совместимость с JMC3</a></li>
<li><a href="#startline">Ключевые строки для триггеров и т.д.</a></li>
<li><a href="#plugins">Плагины к клиенту</a></li>
</ul>
<a name="introduction"></a>
<h2>Введение</h2>
Вашему вниманию представлен клиент для игры в многопользовательские онлайновые текстовые игры MUD (multi users dangeons, dimension or domains games).
Если вы не знаете, что такое mud(мад), то вам стоит сначала прочитать о данных играх тут:<br>
<ul>
<li><a href="http://ru.wikipedia.org/wiki/%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B9_%D0%BC%D0%B8%D1%80" target="_blank">Что такое мад(википедия)</a></li>
<li><a href="http://mudconnector.su/" target="_blank">Русский Мад-коннектор</a></li>
</ul>
Прообразом Тортиллы является другой мад-клиент: Jaba Mud Client 3, самый популярный клиент в Рунете, как самый простой и удобный, где нет ничего лишнего. 
Тортилла очень похожа на JMC3, но есть и отличия. У нее больше возможностей, при этом Тортилла остаётся такой же простой и удобной. 
Основная причина написания клиента - развитие мадов, а для этого нужно создать стандард для мадов в плане протокола, локализации, сервера. Это важно в 
первую очередь для русско-язычных мадов. Данный клиент является переходным звеном в этом процессе. Первый шаг - поддержка Unicode ядром клиента (JMC3 не поддерживает Unicode). 
На основе этого клиента будет разрабатываться клиент для работы на новом протоколе. Конечно же будут использоваться наработки зарубежных мадов.
<a name="capabilities"></a>
<h2>Возможности</h2>
Кратко о том, что умеет данный мад-клиент. Далее все возможности будут представлены более подробно.<br>
<ul>
<li><a href="#ansi" class="m">Поддержка ANSI-цветов</a>, как стандартных 16 цветов, так и расширенного набора из 256 цветов. Для первых основных 16 цветов можно менять палитру и выбирать ее по своему желанию.</li>
<li><a href="#aboutmccp" class="m">Поддержка MCCP</a> (mud connection compression protocol). Протокол сжатия игрового трафика, который идет от сервера к мад-клиенту. Если мад-сервер также поддерживает этот протокол, 
то данные от сервера могут приходить в сжатом виде.</li>
<li><a href="#outputwnd" class="m">Поддержка Output-окон</a>. Это дополнительные окна, куда можно фильтровать и выводить нужную игровую информацию.</li>
<li><a href="#mudhistory" class="m">История мада</a>. Эта возможность позволяет перематывать историю мада назад и при этом вся новая информация будет выводиться во вспомогательное окно.</li>
<li><a href="#makelogs" class="m">Создание логов игры</a>. Клиент умеет протоколировать историю игры в виде логов.</li>
<li><a href="#cmdhistory" class="m">История ввода команд</a>. Клиент запоминает несколько последних введенных команд, чтобы можно было ими вновь быстро воспользоваться. Поле ввода команд имеет несколько режимов работы.</li>
<li><a href="#shortcmds" class="m">Поддержка сокращенных системных команд</a>. Команды клиента необязательно вводить польностью, достаточно первых трех символов.</li>
<li><a href="#autosets" class="m">Автоподстановки</a>. Автоподстановки позволяют быстро вводить как игровые команды, так и системные (команды клиента).</li>
<li><div class="m">Настраиваемый внешний вид</div>. Клиент позволяет изменять внешний вид текстовой игровой информации. Есть возможность менять шрифт клиента, его размер, написаниие (курсив, жирный и т.д.). 
Можно изменять палитру <div class="m">ANSI-цветов</div>. См. далее: <a href="#scolors">Настройки цвета и шрифта</a>.</li>
<li><div class="m">Работа с буфером обмена</div>. Клиент позволяет скопировать часть содержимого любого окна (как основоного, так и дополнительных) в буфер обмена Windows. 
Для этого нужно нажать и удерживать клавишу <div class="m">Shift</div> и далее с помощью мыши, выделить нужный участок текста. Это делается нажатием левой кнопки, ведением мыши по тексту и отпусканием кнопки. Выделенный текст автоматически скопируется в буфер обмена.</li>
<li><div class="m">Поддержка колеса мыши</div>. С помощью колеса мыши можно прокручивать текст во всех окнах мад клиента. Для это достаточно навести стрелку мыши на нужное окно.</li>
<li><a href="#profiles" class="m">Удобная работа с профилями</a>. Для каждого отдельного мада можно создавать свой независимый профиль и дополнять его профилем игровых персонажей. Можно копировать профили между персонажами, 
создавать новые профили. Все профили удобно структурированы в каталоге с файлами клиента.</li>
<li><a href="#elements" class="m">Игровые управляющие элементы</a>. Поддерживаются все основные элементы, с помощью которых, игрок может сделать игру в клиенте удобной для себя. Это макросы, триггеры, подсветки, горячие клавиши, замены, антизамены, 
фильтры, таймеры, группы.</li>
<li><a href="#features" class="m">Особенности</a>. У клиента есть некоторые особенности работы, с которыми стоит познакомиться.</li>
<li><a href="#plugins" class="m">Плагины</a>. Клиент поддерживает плагины. С их помощью можно расширять возможности клиента до бесконечности. Существует <div class="m">SDK</div> для написания плагинов.</li>
</ul>
<p align="right"><a href="#top">В начало</a></p>
<a name="ansi"></a>
<h3>Поддержка ANSI-цветов</h3>
В мадах для вывода текста используются цвета, с помощью которых выделяются отдельные блоки текста, сущности игрового мира, сообщения и многое другое. 
Как правило используется набор из 16 цветов, по два оттенка стандартных 8 цветов, используемых в компьютерных технологиях. Это следующие 8 цветов: 
черный, синий, красный, розовый, зеленый, голубой, желтый и белый. Это пошло еще с зари расцвета компьютеров и мадов в частности. 
Данный клиент поддерживает этот стандартный набор цветов, но при этом, он позволяет именять палитру этих цветов. Их можно изменять 
по своему вкусу в настройках программы. Но развитие мадов не стояло на месте, и вместе с компьютерами они развивались. 
Сейчас есть стандарт на использование в мадах палитры в 256 цветов. Данный клиент также поддерживает эту возможность. Палитра для 
256 цветного мада стандартная и не изменяется, за исключением первых 16 цветов, которые перешли по 'наследству'. Клиент на самом деле 
позволяет использовать все 16 миллионов цветов, задавая цвет нужным текстам с помощью команд: 
<a href="#highlight" class="cmd">#highlight</a>, <a href="#output" class="cmd">#output</a>, <a href="#woutput" class="cmd">#woutput</a>.
О том, как задавать цвет в виде текстовой строки в этих комаднах, рассказано тут: <a href="#colors">Формат цвета</a>.
<a name="aboutmccp"></a>
<h3>MCCP</h3>
MCCP - это протокол сжатия игровых данных. Он используется для уменьшения трафика и увеличения скорости передачи игровых данных. Сжатие происходит только на участке от сервера к клиенту. 
Сжатие трафика от клиента к серверу не имеет смысла, так как клиент отправляет совсем небольшие куски текста в виде игровых команд. Сжатие позволяет уменьшить объем входящего трафика 
в 8-9 раз и имеет смысл при игре через сотовые модемы или медленные каналы связи. Сжатие включается по запросу сервера. Если сервер поддерживает MCCP-сжатие, то он отправляет запрос клиенту 
на включение сжатия, далее клиент должен ответить - поддерживает он сжатие или нет. Если поддерживает, то сжатие включается. С помощью команды <a href="#mccp" class="cmd">#mccp</a> всегда можно 
узнать о том, как работает сжатие в данный момент в клиенте.
<a name="outputwnd"></a>
<h3>Дополнительные окна (output-окна)</h3>
В мадах, где вся игровая информация представлена в виде текстов, зачастую сложно ориентироваться. Даже выделение отдельных сущностей или понятий игрового 
мира в виде цвета, не всегда помогает. Для решения этой проблемы, были созданы дополнительные окна (output-окна). Данные окна предназначены для 
вывода в них любой нужной игровой информации. Фильтрация того что нужно выводить в них осуществляется с помощью скриптов ( в основном это 
триггеры), и системной команды клиента: <a href="#woutput" class="cmd">#woutput</a>. Например, можно сделать так, что все чаты игрового 
мира выводились в отдельное игровое окно (что очень удобно), а не загромождали основное окно клиента. Как выглядят дополнительные окна 
можно посмотреть в разделе, посвященному <a href="#interface">Интерфейсу</a>.
<a name="mudhistory"></a>
<h3>История мада</h3>
Иногда во время игры требуется перемотать лог игры назад и изучить его. Клиент позволяет это сделать, но чтобы не терять контроль над 
текущей игровой ситуацией, клиентом поддерживается такая возможность, как История мада. Когда вы изучаете историю игры(мада), и в этот момент 
приходит какая то новая игровая информация, главное окно мада разделяется на 2 окна: в первом вы попрежнему видете ту часть игрового лога, 
которую изучали, а во втором будет отображаться текущая игровая ситуация. Величина истории мада в 3 раза больше, чем размер 
всех логов, которые хранятся в клиенте (см. <a href="#basesets"> общие настройки</a>). При превышении лимита первое окно 
(с историей мада) автоматически закрывается.
<p align="right"><a href="#top">В начало</a></p>
<a name="makelogs"></a>
<h3>Логи игры</h3>
Зачастую требуется создание логов (истории) той или иной игры. Например, лог боя между группами игроков в маде, чтобы можно было бы позднее его изучить, 
и разобраться почему бой закончился так, как закончился, как кто действовал в бою, какие ошибки были допущены и т.д. Для этого клиент 
позволяет записывать историю игры в виде файла. Данный файл и называется логом. Логи записываются в формате <div class="m">HTML</div>, что 
позволяет посмотреть и изучить лог прямо в браузере. В лог попадает вся игровая информация, которую видит игрок. Сохраняются и все 
цвета, как это было во время игры. Для создания и манипулирования логами используются команды: 
<a href="#log" class="cmd">#log</a>, <a href="#logn" class="cmd">#logn</a>, <a href="#wlog" class="cmd">#wlog</a>, <a href="#wlogn" class="cmd">#wlogn</a>.
<a name="cmdhistory"></a>
<h3>История ввода команд</h3>
Так как игра состоит из постоянного ввода команд, требуются механизмы ускоренного ввода этих команд. История ввода - это один из таких 
способов. Клиент запоминает последние введенные команды (их количество задается в общих настройках), и позволяет возвращать последние 
набранные команды обратно в поле ввода. Для этого используются клавиши '<div class="m">Стрелка вверх</div>' и '<div class="m">Стрелка вниз</div>'. С помощью этих клавиш 
можно осуществлять перебор последних набранных команд. Перебор идет от последней введенной команды к предпоследней и т. д. Поле ввода 
имеет два режима работы - с удалением команды после ввода и без. Режим изменяется в общих настройках (см. <a href="#basesets"> общие настройки</a>). 
Следующие возможности клиента также позволяют ускорить ввод команд : <div class="m">автоподстановки</div>, <a href="#elements" class="m">макросы</a>, <a href="#elements" class="m">горячие клавиши</a>.
<a name="shortcmds"></a>
<h3>Поддержка сокращенных системных команд</h3>
Команды клиента (которые начинаются с символа #), можно вводить в краткой форме. Требуется указать минимум первые 3 символа. Клиент найдет нужную команду и исполнит ее. Однако, 
если будет найдено несколько команд, которые начинаются с этих символов (например, с помощью плагинов можно добавлять дополнительные команды), то клиент попросит уточнить 
команду. Для этого необходимо написать более длинный в символах вариант нужной команды.
<a name="autosets"></a>
<h3>Автоподстановки</h3>
Автоподстановки - это еще один способ ускорить ввод команд. Механизм позволяет ускорить ввод команд, заранее определенных в настройках клиента. 
Чтобы воспользоваться автоподстановками нужно предварительно задать все нужные команды, чтобы клиент о них знал. Задать автоподстановки 
можно в настройках клиента  (см. <a href="#settings">настройки</a>) или с помощью команды: <a href="#tab" class="cmd">#tab</a>. 
Теперь, чтобы ввести команду, достаточно ввести ее первые буквы команды и нажать кнопку <div class="m">TAB</div>. Если команд, начинающихся с одинаковых букв несколько, 
то клиент будет перебирать все варианты. Автоподстановки работают и с системными командами клиента. Если еще не введена ни одна буква новой команды, то 
по кнопке <div class="m">TAB</div> будет добавляеться префикс системной команды: символ решетки '<div class="m">#</div>'. Далее будет использоваться весь 
список системных команд клиента.
<a name="profiles"></a>
<h3>Профили персонажей и игровых данных</h3>
Данные клиента и мира структурированы так, чтобы ими удобно было пользоваться. Все игровые данные храняться в папке <div class="m">gamedata</div> в папке клиента. 
В ней уже содержатся папки отдельных Мад-миров(мад-серверов). Тут для каждого мада можно создать отдельную папку, где и будет находится все необходимое для этого мада. 
Внутри папок отдельного мира(мад сервера), содержатся другие. Это: 
<ul>
<li>Папка '<div class="m">profiles</div>' - Файлы профилей персонажей. Каждый файл - это отдельный персонаж, со своими триггерами, заменами и т.д. (см. далее).
<li>отдельные файлы: '<div class="m">settings.lua</div>' - содержит информацию о последнем персонаже, на котором играли, '<div class="m">history.lua</div>' - 
файл с историей последних команд, которые были введены.</li>
<li>Папки плагинов - тут же создают свои папки плагины, где храняться их файлы. Название папки совпадает с название плагина. см. <a href="#plugins" class="e">Плагины</a></li> 
</ul>
Следует обратить внимание, что в заголовке окна Мад-клиента отображается <div class="m">название Мира</div> - это название папки в <div class="m">gamedata</div> и 
<div class="m">имя персонажа</div> - имя файла профиля персонажа (в папке <div class="m">profiles</div>). Это сделано для удобства понимания - для какого мада сейчас 
настроен клиент, и для какого персонажа.<br><br>
Все файлы храняться в формате  <div class="m">XML</div>, что дает возможность редактировать настройки, при наличии знаний об этом формате и аккуратности, прямо в 
текстовом редакторе.
<p align="right"><a href="#top">В начало</a></p>
<a name="elements"></a>
<h3>Игровые управляющие элементы</h3>
С помощью данных элементов и организуется удобная игра в мад. Манипулировать ими можно в настройках Мад-клиента или с помощью соответствующих системных команд.
<ul>
<li><div class="m">триггеры</div> - механизм автоматического ввода команд. Триггер реагирует на заданную строку, которая приходит из мада и выполняет нужные команды. 
Триггеры позволяют автоматизировать часть игры, где действия будут осуществляться автоматически, без участия игрока. 
(См. команды: <a href="#action" class="cmd">#action</a>, <a href="#unaction" class="cmd">#unaction</a>).</li>
<li><div class="m">макросы</div> - это дополнительные команды, которые игрок может создать для себя, дополнительно к тем, что есть в самом маде. Это один из существующих 
способов ускорить ввод игровых команд и упростить игру. (См. команды: <a href="#alias" class="cmd">#alias</a>, <a href="#unalias" class="cmd">#unalias</a>).</li>
<li><div class="m">замены</div> - механизм автоматической замены текстов, которые приходят из мада на другие. Ими можно пользоваться, когда нужную игровую информацию 
нужно представить в совсем другом виде, нежели 'рисует' мад. В основном замены предназначены для представления игровой информации в более удобном виде для игрока. 
(См. команды: <a href="#sub" class="cmd">#sub</a>, <a href="#unsub" class="cmd">#unsub</a>).</li>
<li><div class="m">антизамены</div> - механизм защиты игровых данных, которые приходят из мада от замен. Если какие-то особенные, частные данные попадают под правила замены, 
но они не должны обрабатываться заменами, используются данные антизамены. (См. команды: <a href="#antisub" class="cmd">#antisub</a>, <a href="#unantisub" class="cmd">#unantisub</a>).</li>
<li><div class="m">фильтры</div> - механизм автоматического удаления текстов. Фильтры - это частный случай замен, где нужная строка заменяется на пустую строку, т.е. удаляется. 
Фильтры предназначены для полного удаления игровой информации, которую игрок не хочет видеть. Фильтры помогают улучшить восприятие игры, так как уменьшают объем информации, 
удаляя ненужную. Фильтры сделаны отдельно от замен специально, чтобы не загромождать замены. (См. команды: <a href="#gag" class="cmd">#gag</a>, <a href="#ungag" class="cmd">#ungag</a>).</li>
<li><div class="m">подсветки</div> - механизм автоматического подсвечивания(выделения) текстов мада. Подсветки позволяют задавать цвет текста, цвет фона и начертание нужных частей текста, 
который приходит из мада, т.е. выделять их. Подсветки - механизм позволяющий улучшить восприятие ключевых игровых данных. 
(См. команды: <a href="#highlight" class="cmd">#highlight</a>, <a href="#unhighlight" class="cmd">#unhighlight</a>).</li>
<li><div class="m">горячие клавиши</div> - механизм сверхбыстрого ввода игровых команд с помощью клавиш на клавиатуре компьютера. Работает принцип: Одна клавиша (возможно в комбинации с Shift, Ctrl, Alt) - 
одна команда. (См. команды: <a href="#hotkey" class="cmd">#hotkey</a>, <a href="#unhotkey" class="cmd">#unhotkey</a>).</li>
<li><div class="m">таймеры</div> - механизм ввода команд по заданному таймеру. Т.е. команды будут выполняться постоянно, с заданным периодом. Таймеры используются для выполнения каких-либо 
переодических действий, например работа с таймером мада(тикером), чтобы отслеживать состояние 'внутренних часов' мада.
(См. команды: <a href="#timer" class="cmd">#timer</a>, <a href="#untimer" class="cmd">#untimer</a>).</li>
<li><div class="m">группы</div> - это механизм управления всеми управляющими элементами мада. Группа может содержать любое количество макросов, замен, триггеров и других элементов. Каждую группу можно 
выключать, таким образом выключая из работы ее элементы и включать ее обратно. Группы предназначены для управления наборами элементов, когда каждая группа и ее содержимое создается 
под конкретную область игры (например бой, игра в группе и т.д.) и потом включаются или отключаются по необходимости.
(См. команды: <a href="#group" class="cmd">#group</a>).</li>
</ul>
<p align="right"><a href="#top">В начало</a></p>

<a name="interface"></a>
<h2>Интерфейс</h2>
<img src="interface.png" class="leftimg" height="500">
Интерфейс программы <div class="m">состоит из меню</div>(1), <div class="m">панели инструментов</div>(2), <div class="m">основного окна с текстом мада</div>(3), 
<div class="m">поле ввода игровых и системных команд</div>(4) и <div class="m">дополнительных окон</div>(5), куда могут выводится отдельные части мад-текстов с помощью скриптов. Дополнительные окна - это плавающие окна, с возможностью пристыковки к основному окну. Их можно включать, выключать 
и располагать в любом удобном месте экрана компьютера.<br><br>
<br>
Меню состоит из 3 пунктов : <div class="m">Файл - Вид - ?</div>. Другие пункты меню добавляются с помощью плагинов.<br>
<div class="m">Файл</div> - позволяет загружать профили или создавать новые (в том числе на базе существующих профилей), открыть диалоговые окна с настройками 
для игры, а также настройками плагинов.<br><br>
<div class="m">Вид</div> - отвечает за отображение элементов интерфейса. Сюда входят: панель инструментов, строка состояния, дополнительные окна клиента.<br><br>
<div class="m">?</div> - с помощью этого пункта меню вы сможете вызвать эту справку из клиента или посмотреть информацию о его версии или перейти на его сайт.<br><br>
На <div class="m">панель инструментов</div> выведены только самые основные и часто используемые функции: по созданию нового профиля, загрузке другого профиля, окно настроек, настройки плагинов и справка. Все 
остальные функции доступны из меню. Плагины могут разместить свои кнопки на панели инструментов.<br><br>
<p align="right"><a href="#top">В начало</a></p>
<br clear="all">

<a name="settings"></a>
<h2>Настройки</h2>
В данном клиенте есть два окна с настройками. Это: <div class="m">Игровые настроки</div> и <div class="m">Настройки плагинов</div>. Все остальные окна настроек могут 
создавать плагины. Оба окна настроек доступны из меню и с панели управления.
<br><br>
<h3>Игровые настройки</h3>
<img src="settings.png" class="leftimg" height="450">
Окно игровых настроек является основным окном добавления и удаления <a href="#elements">игровых управляющих элементов</a>. Тут же можно менять шрифт, его начертание и палитру первых 16 цветов (<a href="#scolors">см тут</a>). 
Здесь же находяться автоподстановки и <a href="#basesets">общие настройки</a>.<br><br>Все настройки разделены на группы. 
Нужную группу настроек можно выбрать с помощью кнопок в правой части окна(1). В левой части окна(2) будут находиться настройки текущей группы.
<br clear="all">
<p align="right"><a href="#top">В начало</a></p>
<h3>Настройки управляющих элементов</h3>
Все <a href="#elements">игровые управляющие элементы</a>, а также <a href="#autosets">автоподстановки</a> имеют очень похожие окна настроек, пример которого представлен выше. 
Это таблица (3), в котором представлен список всех элементов одного типа с параметрами. Далее это поля редактирования (4) для текущего элемента, который подсвечен курсором, куда входят кнопки 
'Добавить' и 'Удалить'. Далее идет блок для работы с группой (5) и кнопки по изменению приоритета элемента (6).<br><br>
Последовательность работы в окне настроек:<br>
- <div class="m">Добавление элемента:</div><br>
&nbsp; В зонах (4) и поле Группа(5) набираются параметры нового элемента. Если нужно создать новый элемент, то нажимается кнопка 'Добавить'.<br>
- <div class="m">Редактирование/копирование элемента:</div><br>
&nbsp; В таблице (3) выбирается нужный элемент, его параметры при этом скопируются в зону (4) и  поле Группа(5).<br>
&nbsp; Далее редактируются параметры, параметры автоматически будут изменяться в таблице (3).<br>
&nbsp; Если ключевое поле при редактировании совпало с тем, что уже есть в таблице, то программа перейдет к этой строке и скопирует оттуда данные.<br>
- <div class="m">Удаление элемента:</div><br>
&nbsp; В таблице (3) выбирается нужный элемент и нажимается кнопка 'Удалить'.<br>
- <div class="m">Работа с группой:</div><br>
&nbsp; В зоне (5) указывается нужная группа при добавлении или удалении элементов.<br>
&nbsp; Галка 'Только группа' позволяет фильтровать в таблице (3) только те элементы, которые относяться к текущей группе. Эта возможность сделана для удобства работы с большим количеством элементов.<br>
- <div class="m">Работа с приоритетом:</div><br>
&nbsp; Некоторые элементы обладают приоритетом, который можно изменять с помощью кнопок (6).<br>
&nbsp; Приоритет определяет порядок, по которому обрабатываются данные с помощью элементов.<br><br>
Замечания:<br>
- Не все элементы обладают приоритетом.<br>
- Некоторые элементы обладают только один параметром - ключевым полем (например фильтры).<br>
- У автоподстановок нет поля группа.<br>
- <div class="m">Важно!</div> После редактирования элементов необходимо нажать кнопку <div class="m">OK</div>, чтобы изменения применились.<br>
<a name="scolors"></a>
<h3>Настройки цвета и выбор шрифта</h3>
Палитра цветов (тут представлены все 16 цветов) в комбианции с цветом фона и текущим шрифтом представлена в окне(1).<br>
Данное окно <div class="m">является примером того как выглядит или будет выглядеть мад</div>.<br><br>
<img src="colors.png" class="leftimg" height="450">
<br><br>
Чтобы изменить цвет любого из цветов палитры. нужно выбрать курсором мыши нужный и нажать левую кнопку мыши.<br><br>
Для изменения шрифта, нужно нажать кнопку(2) 'Шрифт'.<br><br>
Цвет фона меняется кнопкой(3) 'Цвет фона'.<br><br>
Чтобы сбросить все по умолчанию (Цвета палитры, цвет фона, шрифт), нужно нажать кнопку(4) 'Сбросить по умолчанию'.<br><br>
<div class="m">Важно!</div> В конце необходимо нажать кнопку <div class="m">OK</div>, чтобы изменения применились.<br>
<br clear="all">
<a name="basesets"></a>
<h3>Общие настройки</h3>
В данной группе собраны все настройки общего характера, которые касаются всей работы мад-клиента.<br><br>
<img src="basesets.png" class="leftimg" height="450">
<div class="m">Размер буфера</div> - количество строк, которые запоминает мад-клиент у себя в буфере в процессе работы. Во время игры поступает очень много информации, поэтому клиент сохраняет только 
определенное(указанное в этом поле) количество последних строк. Все новые строки постепенно вытесняют более старые. В маде есть поддержка <a href="#mudhistory">истории мада</a>. Величина 
данной истории в 3 раза больше указанного значения, но не более 30000 строк.<br><br>
<div class="m">История команд</div> - количестов последних команд, которые были введены игроком в поле ввода. В историю команд НЕ попадают команды из горячих клавиш, 
триггеров и т.д. (см. <a href="#cmdhistory">тут</a>).<br><br>
<div class="m">Кодировка клиента</div> - клиент умеет работать с мадами кодировке Win и UTF8.<br><br>
<div class="m">Показывать системные команды</div> - Если опция включена, при каждом вводе систеной команды, команда дублируется в главном окне мада.<br><br>
<div class="m">Очищать строку ввода команд</div> - Если опция включена, после каждой команды поле ввода очищается. В обратном случае поле не очищается, но выделяется вся 
строка с командой, позволяя ее отредактировать или полностью удалить.<br><br>
<div class="m">Использовать историю команд в автоподстановках</div> - Если опция включена, то это означает, что все команды из  <a href="#cmdhistory">истории команд</a> будут учавствовать в 
<a href="#autosets">автоподстановках</a>. Мад-клиент в данном режиме анализирут первую команду-слово в строке ввода, и если нажимается кнопка TAB, то пробует дополнительно подобрать из истории команд 
что-то начинающееся с этой команды.<br><br>
<div class="m">Не удваивать букву 'я' при отправке на сервер</div> - По умолчанию мад-клиент удваивает букву 'я' в строках, когда отправляет их на сервер (см. <a href="#features">особенности клиента</a>). 
Данная опция отключает отправку двойной буквы 'я'. Эта возможность необходима для некоторых мад серверов.<br><br>
<div class="m">Показывать ошибки работы плагинов</div> - Плагины могут передавать в мад клиент дополнительную информацию о своей работе в виде логов. Данная опция включает вывод 
этих данных в заданное окно клиента. Допустимые значения от 0 до 6. 0 - Это главное окно мада, от 1 и больше - это output окна.<br><br>
<div class="m">Распознавание Prompt-строки</div><br>
<div class="e">Это важный параметр в настройках мад-клиента!</div> Без его корректной настройки не будут работать некоторые плагины, а сам клиент будет с ошибками 
совмещать вывод текста и игровых команд!<br>
С его помощью, клиент распознает в потоке данных Prompt-строку, и отосительно нее работает уже сам клиент и плагины.<br><br>
<div class="m">Использовать IAC GA</div> - если указан данный параметр, то клиент ищет в потоке игровой информации от сервера специальный маркер (IAC GA) и по 
нему распознает Prompt-строку. Сервер должен поддерживать данную  возможность и она должна быть включена. Обычно в мад-серверах данный маркер включается с 
помощью игровой команды <div class="cmd">реж га</div>.<br><br>
<div class="m">Автопоиск по шаблону</div> - данный вариант следует использовать только в том случае, если сервер не поддерживает отправку маркера IAC GA. В поле шаблона 
нужно указать любую часть Prompt-строки, но только такую, которая будет уникальной для всей игры, иначе будут ошибки в работе клиента и плагинов. Для обозначения 
в шаблоне любого количества символов нужно использовать символ '*' (звездочка). Если нужно указать сам символ звездочка, то нужно написать '\*' (слеш + звездочка). 
Для простоты шаблон поддерживает только звездочку. 
<div class="cmd">Нужно стараться задавать максимально короткую, но уникальную часть prompt-строки.</div> Если в игре видоизменить prompt-строку на другую, то 
возможно нужно будет поменять и шаблон.
<br>Пример:<br>
Prompt-строка: <div class="m">82h/82H 34v/34V</div> 1000m <div class="y">СЮЗВ</div>&gt;<br>
В данном случае можно указать следующий шаблон: <div class="y">*h/*H*&gt;</div>. Тут проверяется наличие последовательности h/H с последним символом &gt; в строке.

<br clear="all">
<p align="right"><a href="#top">В начало</a></p>
<h3>Настройки плагинов</h3>
В данной группе собраны все настройки общего характера, которые касаются всей работы мад-клиента.<br><br>
<img src="plugins.png" class="leftimg" height="330">
Данное окно предназначено для управления плагинами клиента. В окне отображается список плагинов(1), которые клиент может использовать.<br><br>
В окне(2) представлена описание плагина, который выбран в списке.<br><br>
C помощью кнопок(3) можно менять приоритет плагинов. Для некоторых плагинов это может важно. см. <a href="#plugins">Плагины</a>.<br><br>
Кнопкой(4) можно включить или выключить плагин. Это можно сделать и с помощью двойного клика в списке.<br><br>
<div class="m">Важно!</div> В конце работы с настройками необходимо нажать кнопку <div class="m">OK</div>, чтобы изменения вступили в силу.<br>
<br clear="all">
<p align="right"><a href="#top">В начало</a></p>
<a name="plugins"></a>
<h2>Плагины</h2>
В мад-клиенте реализована возможность создавать расширения, которые улучшают клиент, добавляя ему новые возможности.<br>
Данные расширения - плагины создаются с помощью <div class="m">SDK</div>, который прилагается к клиенту в виде отдельного архива. 
Его можно найти на <a href="https://github.com/tmud/tortilla/releases" target="_blank">сайте программы</a>.<br><br>
<div class="m">SDK</div> рассчитан на создание расширений на языках <div class="m">C++</div> и <div class="m">Lua</div>.<br>
Подробнее об этом читайте в справке в SDK.<br><br>
<h3>Плагины на Lua</h3>
Если плагин написан на <div class="m">Lua</div>, то скорее всего настройки этого плагина будут задаваться непосредственно в файле плагина. Так как 
код плагина на <div class="m">Lua</div> - это текстовый файл, то для изменения настроек нужен текстовый редактор. Обязательно нужен редактор, который 
поддерживает кодировку <div class="m">UTF8</div> (все тексты программ плагинов в этой кодировке).
<h2>Доступные плагины</h2>
<h3>Фильтр строки приглашения prompt</h3>
Данный плагин предназначен для фильтрации вывода в главное окно клиента повторяющихся Prompt строк.<br>
Повторы происходят, когда триггеры через функцию <a href="#drop" class="cmd">#drop</a> отбрасывают вывод в основное окно мада, а Prompt строки продолжают поступать.<br>
Как результат окно клиента забивается ненужными строками. Данный плагин отбрасывает все повторяющиеся prompt строки (если они идут подряд одинаковые, без изменения).
<h3>Импорт из Jmc3</h3>
Данный плагин предназначен для импорта игровых настроек из клиента Jaba Mud Client 3.x. Плагин добавляет пункт меню, через который 
осуществляется загрузка игровых сетов Jmc3.
<h3>Фильтр истории команд (Lua)</h3>
Плагин предназначен для фильтрации игровых команд, которые НЕ должны попадать в историю клиента. Настройки плагина задаются прямо в файле плагина, с помощью 
текстового редактора с поддержкой UTF8.
<h3>Автоперенос строк (Lua)</h3>
Плагин разбивает слишком длинные строки, которые приходят в клиент на несколько строк. Максимальная длина строки, которая допустима, задается в файле плагина.
<h3>Карта</h3>
На данный момент времени такой плагин существут, он работает, но не готов полностью. Поэтому его пока нет в комплекте с клиентом, но его можно собрать из исходных текстов.<br>
Исходные тексты можно взять на <a href="https://github.com/tmud/tortilla" target="_blank">сайте программы</a>.
<br>
<a name="features"></a>
<h2>Особенности клиента</h2>
- <div class="m">Горячие клавиши</div> позволяют моментально выполнять нужные действия нажатием одной клавиши(или комбинации клавиш), но в клиенте уже некоторые клавиши предопределены для нужд самого клиента.<br>
<br>Например:
<ul><li><div class="m">Esс</div> - очищает поле ввода команд.</li>
<li><div class="m">PageUp</div>, <div class="m">PageDown</div> - пролистывает текст главного окна мада на одну страницу вверх или вниз.</li>
<li><div class="m">Tab</div> - работает в механизме автоподстановок.</li>
<li><div class="m">Стрелка вверх</div>, <div class="m">Стрелка вниз</div> - используются для работы с историей команд.</li>
<li><div class="m">F10</div>,  <div class="m">Alt</div> - стандартные клавиша для Windows программ. Позволяет выбрать пункты меню с помощью клавиатуры. 
Так как <div class="m">Alt</div> может использоваться совместно с горячими клавишами, то работает только вызов меню по однократному его нажатию, без использования других клавиш.
<li><div class="m">Ctrl+A</div>, <div class="m">Ctrl+C</div>,  <div class="m">Ctrl+V</div>,  <div class="m">Ctrl+X</div>,  <div class="m">Ctrl+Z</div> - соответственно <div class="m">SelectAll</div>, <div class="m">Copy</div>,  <div class="m">Paste</div>,  <div class="m">Cut</div> и <div class="m">Undo</div>. 
Это стандартные клавиши Windows и позволяют работать с командной строкой клиента и буфером обмена Windows.<br>
&gt; <div class="m">SelectAll</div> - выделяет все содержимое командной строки.<br>
&gt; <div class="m">Copy</div> - копирует выделенную часть командной строки в буфер обмена.<br>
&gt; <div class="m">Paste</div> - вставляет в командную строку в позицию курсора содежимое буфера обмена. Если часть командной строки выделенна, то она заменяется.<br>
&gt; <div class="m">Cut</div> - копирует в буфер обмена и удаляет одновременно выделенную часть командной строки.<br>
&gt; <div class="m">Undo</div> - отменяет последнее изменение в командной строке. Работает для последних 30 изменений.<br>
</ul>
Клиент позволяет переопределить эти клавиши и использовать их как Горячие, но при этом перестануть работать данные предопределенные функции!<br><br>
- <div class="m">Пропорциональный шрифт</div>. В клиенте используется ТОЛЬКО пропорциональный шрифт, так как в мадах с помощью символов рисуются таблицы и другие сложные 
элементы из ASCII графики. Поэтому в окне выбора шрифта присутствуют только такие шрифты.
<br><br>
- <div class="m">Буква 'я'</div>. Мады работают на протоколе <div class="m">Telnet</div>. В кодировке WIN, которую используют для игры на Windows-компьютерах, 
маленькая буква 'я' попадает на управляющий код IAC протокола Telnet. По правилам протокола, управляющий код нужно удваивать, если нужно обозначить букву. Клиент 
следует этому праву, но некоторые мад-сервера нет. Поэтому клиент работает по следующему принципу:
<ul><li>Клиент автоматически определяет как сервер работает с буквой 'я', настраивать ничего не надо.</li>
<li>Сервер, как требуется протоколом Telnet, отправляет удвоенную букву 'я', но в <a href="#basesets">настройках</a> это можно изменить, если мад-серверу  
нужно отправлять только одну 'я'.</li>
</ul>
<p align="right"><a href="#top">В начало</a></p>
<a name="commands"></a>
<h2>Системные команды</h2>
В данном разделе представлен список всех системных команд клиента. Данные команды используются в основном для работы с игровыми настройками, которые помогают в игре. Также присутствуют 
команды управления клиентом, сбора игровой статистики и записи логов игры.<br><br>
<a name="jmc3"></a>
<h3>Совместимость с JMC3</h3>
Все системные команды начинаются с символа решетка '#'. Это уже стало стандартом в мад клиентах, в том числе и в JMC3. И для упрощения и ускорения ввода системных команд, клиент поддерживает добавление
символа начала '#' системной команды с помощью клавиши TAB (если клиент понимает, что можно вводить новую команду).<br><br>
<a name="syntax"></a>
<h3>Синтаксис команд</h3>
Тортилла поддерживает синтаксис написания системных команд, как в JMC3, т.е. с использованием фигурных скобок '{' и '}'. Также вместо фигурных скобок можно использовать, как 
одинарные кавычки ', так и двойные кавычки ". Возможно даже не использовать кавычки вообще, но при условии что в параметре не используется пробел, т.к. пробел в данном случае 
будет считаться как разделитель. Если параметр содержит пробелы, то кавычки обязятельны. Например данные варианты написания полностью эквивалентны:<br>
<div class="e">#alias 'нф' 'наполнить флягу фонтан'</div><br>
<div class="e">#alias "нф" "наполнить флягу фонтан"</div><br>
<div class="e">#alias {нф} {наполнить флягу фонтан}</div><br><br>
Для разделения команд между собой используется символ точки с запятой ';' (как и в JMC3).<br>
<a name="startline"></a>
<h3>Ключевые строки для триггеров, замен, подсветок и т.д.</h3>
Для триггеров, замен, подвсеток, антизамен и прочего, описания которых представлены далее, есть понятие ключевой строки. Ключевая строка 
- это набор слов и управляющих символов, которые задают шаблон строки, на который должен 'срабатывать' клиент.<br><br>
Ключевая строка состоит из самой строки, но с возможностью использовать специальные символы.<br>
- <div class="m">Специальные символы %0</div>, <div class="m">%1</div>, ..., <div class="m">%9</div>. - Данные специальные символы 
используются в ключевых строках на том месте, где неизвестно значение строки (любая последовательность символов). При этом данные спецсимволы 
являются переменными, которые можно использовать в триггерах, заменах и т.д. В переменную попадут те символы, на позиции которых и находилась переменная.<br>
<br>Например:<br>
<div class="e">%1 приш%2 с %3</div><br>
В данной ключевой строке использовано сразу 3 переменных. Она будет срабатывать, когда ктото будет приходить с какого-либо направления, например:
<div class="ee">Стражник пришел с севера</div><br>
В данном примере в переменную <div class="m">%1</div> попадет строка <div class="m">Стражник</div>,<br>
в переменную  <div class="m">%2</div> попадет окончание слова пришел - <div class="m">ел</div>,<br>
в переменную  <div class="m">%3</div> попадет слово <div class="m">севера</div>.<br>
При использовании переменных, разделителем между словами является пробел ' '.<br><br>
- <div class="m">Специальные символы %0%</div>, <div class="m">%1%</div>, ..., <div class="m">%9%</div>. - Данные символы аналогичны <div class="m">%0</div> 
и т.д, и являются теми же самыми переменными. Отличие заключается в следующем:<br>
&nbsp; Спецсимволы <div class="m">%0%</div>, и т.д. - предназначены для строк, содержащих пробелы, а для <div class="m">%0</div>, пробел является разделителем и поэтому недопустим.<br><br>
- <div class="m">Специальный символы %%</div> - означает любое количество символов. Поэтому его можно использовать только в конце ключевой строки, иначе 
ключевая строка не будет срабатывать.

<a name="colors"></a>
<h3>Формат цвета для текстовых строк:</h3>
Клиент позволяет задавать цвет текста и фона для нужных текстовых строк с помощью следующих системных команд:<br>
- <a href="#highlight" class="cmd">#highlight</a><br>
- <a href="#output" class="cmd">#output</a><br>
- <a href="#woutput" class="cmd">#woutput</a><br><br>
Цвет задается с помощью строки, состоящей из следующих ключевых строк:<br>
- <div class="t">Цвет текста</div> задается в виде предопределенных слов: black,red,green,brown,blue,magenta,cyan,gray,coal,light red,light green,yellow,light blue,purple,light cyan,white,light magenta,light brown,grey.<br>
Данные строки предопределяют стандартные цвета, из числа первых 16. Некоторые цвета имеют два названия из представленных, для совместимости с клиентом JMC3, например: <div class="e">gray</div> и <div class="e">grey</div>.<br>
- <div class="t">Цвет текста</div> также можно задавать и в формате <div class="t">RGB</div>. Для этого нужно указать 3 числа через запятую, например: <div class="e">40,60,80</div><br>
- <div class="t">Цвет фона</div> задается точно также, как и цвет текста, но в начале нужно указать строку <div class="t">b</div>, например <div class="e">b 123,16,48</div><br>
- <div class="t">Начертание текста</div> также можно выделять рамкой <div class="t">border</div>, делать курсивом <div class="t">italic</div>, добавлять подчеркивание <div class="t">line</div>.<br>
<br>Примеры:<br>
<div class="e">'green b blue italic'</div> - задает текст зеленого цвета на синем фоне с курсивом.<br>
<div class="e">'b gray border light red'</div> - задает текст ярко красного цвета на сером фоне с рамкой.<br>
Клиент позволяет задавать ключевые слова в любой последовательности.<br>
<p align="right"><a href="#top">В начало</a></p>
<h3>Команды:</h3>
<a name="action"></a>
<h4>#action</h4>
Эта команда позволяет добавить (запрограммировать) автоматическое ответное действие на любой нужный текст, который поступает с Мад-сервера. Такие микропрограммы называют триггерами или 
actions. В триггерах, вместо определенных частей текста, можно использовать переменные %0-%9. В эти переменные попадает текст, который находится в строке от Мад-сервера, на месте данных переменных.
Далее эти переменные можно использовать в командах ответного действия триггера.<br><br>
Все строки, поступающие от Мад-сервера, проверяются на соответствие условию каждого действующего триггера (триггер может быть отключен, см. группы). Триггеры проверяются в порядке, заданном 
в клиенте (окно настроек, раздел Триггеры). Если условие триггера подходит, то он срабатывает, т.е. выполняются его команды ответного действия. После срабатывания триггера, обработка строки 
прекращается и далее клиент переходит к следующей строке.<br><br>
Синтаксис команды:<br>
<div class="t">#action 'ключевая строка' 'команды действий' ['группа']</div><br>
Команда добавляет новый триггер.<br>
-'ключевая строка' - строка, на которую должен срабатывать триггер. (См: <a href="#startline">Ключевые строки</a>)<br>
-'команды действий' - строка, набор команд, которые должны выполниться, при срабатывании триггера.<br>
-'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить новый триггер. Если параметр не указан, то триггер добавляется в первую группу.<br>
<br>Примеры:<br>
<div class="e">#action '%1 ослеп%2!' 'колд прозрение %1'</div><br>
Когда кто-то слепнет, то Ваш персонаж автоматически колдует заклинание 'прозрение' на данного персонажа.<br><br>
<div class="e">#action 'Вы хотите есть!' 'Есть хлеб'</div><br>
Когда персонаж голоден, то вы будете автоматически есть хлеб.<br><br>
<div class="e">#action '^Чистый родник течет тут.' 'пить родник'</div><br>
Когда вы будете приходить к роднику, то автоматически будете из него пить.<br><br>
Обратите внимание на символ <div class="e">'^'</div> в начале строки! Он означает, что триггер сработает только в том случае, если совпадение произойдет с самого начала строки.
Например, для строки 'Недображелатель сказал: 'Чистый родник течет тут', данный триггер не сработает. Ведь в этой клетке может течь и ядовитый родник! Всегда нужно помнить, что 
триггеры могут и навредить, если их узнают и ими воспользуются другие игроки.<br><br>
<div class="t">#action</div><br>
В данном случае, если не указаны параметры, клиент выведет весь список существующих триггеров:<br>
<br>Пример:<br>
<div class="e">#action</div><br>
<div class="ee">
'^Кучка монет лежит тут.' 'взя мон' 'default'<br>
'^Вы отравлены.' 'осуш микст.против' 'default'<br>
'^Ключ от клеток лежит тут.' 'взя ключ' 'default'<br>
'^%1 сказал группе: "вст" 'вст' 'default'<br>
'^Вы попытались завалить %1 на землю, но %2 уклонил%3, и вы упали.' 'вст' 'default'
</div><br>
<div class="t">#action 'строка'</div><br>
Если указан один параметр, то будут выведены только те триггеры, которые содержать эту комбинацию букв в своей ключевой строке (по которой идет срабатывание триггера):<br>
<br>Пример:<br>
<div class="e">#action лежит</div><br>
<div class="ee">'^Кучка монет лежит тут.' 'взя мон' 'default'<br>
'^Ключ от клеток лежит тут.' 'взя ключ' 'default'<br>
</div><br>
См.также: <a href="#unaction" class="cmd">#unaction</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="alias"></a>
<h4>#alias</h4>
Данная команда позволяет создать дополнительную команду (макрос), составив ее из набор более простых команд. При использовании макроса, клиент подставит вместо него заданную последовательность 
команд.<br><br>
Синтаксис команды:<br>
<div class="t">#alias 'имя макроса' 'команды действий' ['группа']</div><br>
Команда добавляет новый макрос.<br>
-'имя макроса' - строка, которая используется как новая команда. В имени макроса использовать переменные %0-%9 ненужно, так как они и так обозначают (%0 см. ниже) первый, второй и т.д параметры соответственно.<br>
-'команды действий' - строка, набор команд, которые должны выполниться, при использовании макроса. Тут могут использоваться переменные %0-%9. Переменная %0 для макросов означает всю строку с параметрами, как одну общую строку.<br>
-'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить новый макрос. Если параметр не указан, то макрос добавляется в первую группу.<br><br>
Примеры:<br>
<div class="e">#alias 'пн' 'пнуть %1'</div><br>
Каждый раз когда вы будете вводить команду 'пн ИМЯ', Мад-серверу будет отправлена команда 'пнуть ИМЯ', т.е. ваш персонаж будет пинать другого игрока или моба, чье имя вы укажете.<br><br>
<div class="e">#alias 'бх' 'биржа хар %1'</div><br>
С помощью этой команды вы сможете смотреть характеристики того или иного предмета на бирже мада.<br><br>
<div class="e">#alias 'по' 'положить %1 в %2'</div><br>
Данная команда позволяет что-то положить в какой-нибудь контейнер. Достаточно набрать: 'по хлеб сумка' и вы положите хлеб в сумку.<br><br>
Макросы очень удобый инструмент, т.к. больше не нужно будет набирать полную версию всей команды, можно использовать макрос.<br><br>
<div class="t">#alias</div><br>
Если не указаны параметры, то клиент выведет весь список существующих макросов:<br>
<br>Пример:<br>
<div class="e">#alias</div><br>
<div class="ee">
'нас' 'ко насыщ %1' 'default'<br>
'оо' 'ко обряд.очищ' 'default'<br>
'ор' 'ко освоб.разум %1' 'default'<br>
'сп' 'ко снять.прокл %1' 'default'<br>
'сс' 'ко слово.света' 'default'<br>
'уя' 'ко убрать.яд %1' 'default'<br>
</div><br>
<div class="t">#alias 'строка'</div><br>
При наличии одного параметра, будут выведены все макросы, содержащие данную строку в имени макроса.<br>
<br>Пример:<br>
<div class="e">#action нас</div><br>
См.также: <a href="#unalias" class="cmd">#unalias</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="antisub"></a>
<h4>#antisub</h4>
Данная команда позволяет защитить определенные строки от влияния на них команд <a href="#sub" class="cmd">#sub</a> и <a href="#gag" class="cmd">#gag</a>.<br>
<br>Пример:<br>
<div class="e">#gag '^%0 улетел%1 на %2'</div><br>
Команда <a href="#gag" class="cmd">#gag</a> блокирует вывод строки, когда кто-то улетает в любом направлении. Но с помощью команды #antisub можно это изменить.<br><br>
Синтаксис команды:<br>
<div class="t">#antisub 'строка антизамены' ['группа']</div><br>
Добавляет новую антизамену.<br>
-'строка антизамены' - строка, которая определяет антизамену и на которую не должны срабатывать команды #gag и #sub<br>
-'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить антизамену. Если параметр не указан, то антизамена добавляется в первую группу.<br>
<br>Пример:<br>
<div class="e">#antisub Птица грома улетела на %0</div><br>
Позволит видеть всегда строки, где Птица грома улетает в каком-нибудь направлении.<br><br>
<div class="t">#antisub 'строка'</div><br>
Если указан один параметр, то будут показаны все антизамены, которые содержат данную строку.<br>
См.также: <a href="#sub" class="cmd">#sub</a>, <a href="#gag" class="cmd">#gag</a>, <a href="#unantisub" class="cmd">#unantisub</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="clear"></a>
<h4>#clear</h4>
Очищает весь текст в определенном окне мад клиента. Номер требуемого окна задается с помощью параметра.<br><br>
Синтаксис команды:<br>
<div class="t">#clear 'номер окна'</div><br>
Возможные значения: 0 - для главного окна, 1-6 - для дополнительных окон.<br>
Можно не указывать номер окна. В таком случае очищается главное окно.<br>
<br>Пример:<br>
<div class="e">#clear 1</div><br>
Очищает весь текст в дополнительном окне №1<br>
<hr>
<a name="connect"></a>
<h4>#connect</h4>
Команда используется для установки соединения с игровым мад-сервером. Соединение произойдет только если клиент в данный момент не подключен к маду.
<br><br>
Синтаксис команды:<br>
<div class="t">#connect 'адрес мада' 'номер порта'</div><br>
-'адрес мада' - IP-адрес мад-сервера или его интернет-адрес в виде 'site.ru'<br>
-'номер порта' - Число, номер порта, необходимое для подключения.<br>
Адрес мада и номер порта всегда можно узнать на сайте, посвященному нужному маду.<br>
<br>Пример:<br>
<div class="e">#connect game.mudlast.ru 2700</div><br>
Подключает клиент к маду <div class="m">Ведьмак, Золотой Дракон</div>.<br>
<div class="e">#connect adan.ru 4000</div><br>
Подключает клиент к маду <div class="m">Адамант Адан</div>.<br>
Адреса других мадов можно посмотреть тут: <a href="http://mudconnector.su/MudList" target="_blank">Русский Мад-коннектор</a><br>
См.также: <a href="#disconnect" class="cmd">#disconnect</a>, <a href="#zap" class="cmd">#zap</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="cr"></a>
<h4>#cr</h4>
Отправляет на сервер пустую строку с переводом строки. Используется для создания макросов, которые требуют промежуточный ввод. Работает как клавиша 
'ENTER' без ввода команды.<br>Параметров у команды нет.<br>
<br>Синтаксис команды:<br>
<div class="t">#cr</div><br>
<hr>
<a name="disconnect"></a>
<h4>#disconnect</h4>
Команда разрывает соедениение с сервером. Параметров у команды нет.<br>
<br>Синтаксис команды:<br>
<div class="t">#disconnect</div><br>
См.также: <a href="#connect" class="cmd">#connect</a>, <a href="#zap" class="cmd">#zap</a>
<hr>
<a name="drop"></a>
<h4>#drop</h4>
Команда используется ТОЛЬКО в триггерах(#actions). Она отбрасывает строку, на которую сработал триггер, не выводя ее на экран и не 
записывая в лог. Вне триггеров, данная команда ничего не делает.<br>Параметров у команды нет.<br><br>
Синтаксис команды:<br>
<div class="t">#drop</div><br>
<hr>
<a name="if"></a>
<h4>#if</h4>
Команда предназначена для запуска набора других команд, при выполнении некоторых условий. В качестве условия происходит 
сравнение значений переменных, чисел и строк между собой. Эта команда предназначена для использования в триггерах, макросах, 
горячих клавишах и таймерах.<br><br>
Синтаксис команды:<br>
<div class="t">#if 'условие' 'команды действий'</div><br>
- 'условие' - математическое выражение, которое анализирует клиент.<br>
- 'команды действий' - строка, набор команд, которые должны выполнить клиент, при выполнении условия.<br><br>
Условие состоит из 3 частей: <div class="t">'левый операнд' 'оператор сравнения' 'правый операнд'</div>.<br><br>
В качестве левого и правого операндов может выступать переменная, строка или число. Переменные записываются в виде <div class="t">$имя_переменной</div>.<br>
Переменные можно посмотреть с помощью команды <a href="#var" class="cmd">#var</a>.<br><br>
Клиент поддерживает следующие операторы сравнения: 
<ul>
<li><div class="t">=</div> равно</li>
<li><div class="t">!=</div> не равно</li>
<li><div class="t">&lt;</div> меньше</li>
<li><div class="t">&gt;</div> больше</li>
<li><div class="t">&lt;=</div> меньше или равно</li>
<li><div class="t">&gt;=</div> больше или равно</li>
</ul>
Если оба операнда числа, то сравнение операндов идет именно как чисел, иначе будут сравниваться строки!<br>
Примеры:<br>
<div class="e">'$a = 1'</div> - проверяет, что переменная a = 1.<br>
<div class="e">'$b &gt; $c'</div> - переменная b больше c.<br>
<div class="e">'$d &lt;= $e'</div> - переменная d меньше или равна e.<br>
<br>
Условие, как и команды необходимо заключать в кавычки, двойные кавычки или фигурные скобки см. <a href="#syntax">синтаксис команд</a>,<br>
иначе клиент может не правильно обрабатывать данный оператор.<br><br>
Единственный вариант, когда можно опустить скобки, это сравнение переменной с числом, при условии, что переменная всегда будет числом, например: <div class="e">$a=1</div> (без пробелов!),<br>
поэтому условия сравнения крайне важно всегда заключать в скобки.<br><br>
Примеры:<br>
<div class="e">#if '$fight = 0' 'есть;пить'</div> - Переменная $fight отвечает за состояние в бою/нет. Если персонаж не в бою, то можно подкрепиться.<br>
<div class="e">#if {$curMoney &lt; $oldMoney} {#output red 'Меня обокрали !!!'}</div> - если вдруг стало меньше денег, то вывысти сообщение о краже.<br><br>
См.также: <a href="#var" class="cmd">#var</a>, <a href="#alias" class="cmd">#alias</a>, <a href="#action" class="cmd">#action</a>, <a href="#timer" class="cmd">#timer</a>, <a href="#hotkey" class="cmd">#hotkey</a>
<hr>
<a name="gag"></a>
<h4>#gag</h4>
Данная команда позволяет добавить фильтр(правило), по которому будут НЕ показываться строки, которые приходят из мада. По сути это фильтр от 
ненужных данных. Эта команда является упрощенной версией команды <a href="#sub" class="cmd">#sub</a>. Фильтры были сделаны для 
упрощения и лучшего понимания игровых настроек.<br><br>
Синтаксис команды:<br>
<div class="t">#gag 'удаляемая строка' ['группа']</div><br>
-'удаляемая строка' - строка, по которой будет определяться строка, которую нужно исключить. Можно использовать переменные %0-%9 для переменных частей строки.<br>
-'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить фильтр. Если параметр не указан, то фильтр добавляется в первую группу.<br><br>
Примеры:<br>
<div class="e">#gag %1 улетел%2 %3</div><br>
Строки, содержащей, что кто-то улетел в каком-нубудь направлении, больше не будет.<br>
<div class="e">#gag</div><br>
Если не указаны параметры, то клиент выведет весь список существующих фильтров.<br><br>
<div class="ee">
'Вы хотите есть.' 'default'<br>
'Вы хотите пить.' 'default'<br>
</div><br>
<div class="e">#gag Рынок</div><br>
При наличии одного параметра, будут выведены все фильтры, содержащие данную строку в имени макроса.<br>
См.также: <a href="#sub" class="cmd">#sub</a>, <a href="#ungag" class="cmd">#ungag</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="group"></a>
<h4>#group</h4>
С помощью этой команды осуществляется работа с группами. Группы - это объединение триггеров, макросов, замен и других элементов.
Разбив элементы на группы, можно удобно ими управлять - включать или выключать. Например могут быть группы: для боя или для отдыха, для игры в группе, 
для игры в режиме PVP или PVE и т.д.<br><br>
Синтаксис команды:<br>
<div class="t">#group</div><br>
- Без параметров команда выводит список существующих групп и их состояние (группа включена или нет).<br>
<div class="t">#group 'группа'</div><br>
- Команда с одним параметром. В данном случае считается, что это имя группы. Выводится количество макросов, триггеров и др. элементов в группе.<br>
<div class="t">#group 'операция' 'группа'</div><br>
-'операция' - требуемое действие с группой.<br>
-'группа' - имя группы, с которой нужно работать.<br><br>
Возможные операции:<br>
<div class="t">info,инф,list,список</div> - выводит количество элементов в группе (макросы, триггеры и т.д.), аналогично #group &lt;группа&gt;.<br>
<div class="t">on,enable,вкл</div> - включает группу. Далее все элементы группы будут работать.<br>
<div class="t">off,disable,выкл</div> - выключает группу. Далее все элементы группы перестают работать.<br>
<br>Примеры:<br>
<div class="e">#group</div><br>
<div class="ee">
base Вкл<br>
test Вкл<br>
off<br>
</div><br>
<div class="e">#group base</div><br>
<div class="ee">
Макросы(aliases): 3<br>
Триггеры(actions): 5<br>
Подсветки(highlights): 1<br>
Горячие клавиши(hotkeys): 8<br>
Замены(subs): 1<br>
Фильтры(gags): 1<br>
Антизамены(antisubs): 0<br>
</div><br>
<div class="e">#group off base</div><br>
<div class="ee">
Группа 'base' выключена
</div>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="help"></a>
<h4>#help</h4>
Команда открывает справку к мад-клиенту или к конкретной команде/разделу клиента.
<br><br>Синтаксис команды:<br>
<div class="t">#help ['команда или раздел']</div><br>
Если у команды не указан параметр-раздел или указан неверный раздел, то справка открывается в начале, иначе на нужной закладке.<br>
Справкой к клиенту является данный файл.<br>
<br>Пример:<br>
<div class="e">#help alias</div><br>
<hr>
<a name="hide"></a>
<h4>#hide</h4>
Команда отправляет Мад-серверу строку, отображая в окне мада другую строку, в виде набора символа '*' (звездочка). В лог мада попадает также строка из звездочек. 
Используется, например, для отправки паролей в мад, чтобы этот пароль не попал в логи или на экран клиента. Количество звездочек НЕ соответствует длине отправляемой 
строки с паролем. Этот метод небезопасный, если вы недоверяете плагинам, так как плагины имеют доступ ко всем триггерам, поэтому в теории возможна утечка пароля. 
Для решения этой проблемы смотрите команду <a href="#password" class="cmd">#password</a>.<br><br>
Синтаксис команды:<br>
<div class="t">#hide 'строка'</div><br>
См.также: <a href="#password" class="cmd">#password</a>
<hr>
<a name="hidewindow"></a>
<h4>#hidewindow</h4>
Сворачивает окно клиента в панель задач или в трей (зависит от настроек). У команды нет параметров.<br>
<br>Пример:<br>
<div class="e">#hidewindow</div><br>
См.также: <a href="#showwindow" class="cmd">#showwindow</a>
<hr>
<a name="highlight"></a>
<h4>#highlight</h4>
Команда добавляет подсветку. Подсветка реагирует на заданный участок текста, которые приходит от Мад-Сервера и выделяет его нужным цветом. Цвет также задается.<br><br>
Синтаксис команды:<br>
<div class="t">#highlight 'ключевая строка' 'цвет' ['группа']</div><br>
Добавляет новую подсветку.<br>
- 'ключевая строка' - строка, на которую должна срабатывать подсветка. Допускается использование макросов %0-%9 для участков строки, которые изменяются.<br>
- 'цвет' - строка, которая описывает цвет, которым нужно подсветить ключевую строку. (См: <a href="#colors">Формат цвета</a>)<br>
- 'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить новую подсветку. Если параметр не указан, то подсветка добавляется в первую группу.<br>
<br>Пример:<br>
<div class="e">#highlight 'тяжело ранил вас' 'light red'</div><br>
Когда кто-либо тяжело ранит вас, строка с информацией об этом будет выделена ярко-красным цветом.<br><br>
<div class="t">#highlight</div><br>
Команда выводит все подсветки.<br>
<div class="t">#highlight 'строка'</div><br>
Команда выводит все подсветки, которые содержат заданную строку.<br><br>
Описание формата, как задается цвет, можно тут: <a href="#colors">Формат цвета</a><br>
См.также: <a href="#unhighlight" class="cmd">#unhighlight</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="hotkey"></a>
<h4>#hotkey</h4>
Данная команда позволяет задать новую или переопределить существующую горячую клавишу в клиенте. При нажатии данной клавиши (или комбинации кллавиш), указанные команды будут отправлены 
серверу, как если бы вы отдали их непосредственно с клавиатуры клиента.<br>
Синтаксис команды:<br>
<div class="t">#hotkey 'горячая клавиша' 'команды' ['группа']</div><br>
- 'горячая клавиша' - имя горячей клавиши. Формат, как здавать клавишу или комбинацию клавиш, описано ниже.<br>
- 'команды' - команда или набор команд (через разделитель ';'), которые должны выполниться, при нажатии на клавишу.<br>
- 'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить новую горячую клавишу. Если параметр не указан, то клавиша добавляется в первую группу.<br>
<br>Формат клавиши:
<div class="t">[shift+][ctrl+][alt+]имя клавиши</div><br>
В качестве имени может выступать буква, цифра или символ клавиши. Возможно также использовать специальные имена клавиш:<br>
- <div class="t">F1-F12</div> - функциональные клавиши.<br>
- <div class="t">INS, DEL, HOME, END, PGUP, PGDN</div> - Insert, Delete, Home, End, PageUp, PageDown<br>
- <div class="t">ENTER, SPACE, UP, DOWN, LEFT, RIGHT</div> - Enter, Пробел, Стрелка вверх, Стрелка вниз, Стрелка влево, Стрелка вправо<br>
- <div class="t">NUN1-NUM9</div> - клавиши цифрового блока<br>
- <div class="t">DIV, MUL, MINUS, PLUS, NUMENTER</div> - клавиши /, *, -, +, enter цифрового блока<br>
- <div class="t">ESC, BACK, TAB</div> - Escape, Backspace(удаление), Tab<br>
 <br>См.также: <a href="#unhotkey" class="cmd">#unhotkey</a>
 <p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="log"></a><a name="logn"></a>
<h4>#log, #logn</h4>
Данная команда начинает запись в указанный файл всей информации, которая поступает от сервера, включая команды, которые вводит игрок, 
т.е. содержимое главного окна клиента. <br>
Синтаксис команды:<br>
<div class="t">#log[n] 'имя файла'</div><br>
'имя файла' - путь к файлу, куда нужно записывать лог. Если уже идет запись лога, то текущий лог закрывается и открывается новый.<br><br>
Лог записывается в формате <div class="t">HTML</div>, поэтому его можно просмотреть любым браузером.<br>
Отличие между командами <div class="t">#log</div> и <div class="t">#logn</div> в том, что <div class="t">#log</div> добавляет логи в уже существующий 
файл (если он существует), а <div class="t">#logn</div> всегда создает новый файл (стирает старый файл, если он существует).<br>
Так как логи пишутся в формате <div class="t">HTML</div>, то к имени файла автоматически добавляется расширение <div class="t">.html</div>, 
если расширение не указано, или оно не совпадает с <div class="t">.html</div> или <div class="t">.htm</div>.
<br><div class="t">#log[n]</div><br>
Команда без параметров закрывает текущий лог.
<br>См.также: <a href="#wlog" class="cmd">#wlog</a>
<hr>
<a name="mccp"></a>
<h4>#mccp</h4>
Клиент поддерживает, стандартный для мадов, алгоритм сжатия игрового трафика <a href="#aboutmccp">mccp</a>. Команда <div class="t">#mccp</div> 
отображает статистику по трафику и коэффицент его сжатия, если сжатие используется.<br>
Синтаксис команды:<br>
<div class="t">#mccp</div><br>
У команды нет параметров.
<hr>
<a name="password"></a>
<h4>#password</h4>
Команда открывает окно для ввода пароля. После ввода пароля отправляет его Мад-серверу, минуя все триггеры и обработчики (в целях сохранности пароля). 
В окне мада отображается другая строка, в виде набора символа '*' (звездочка). В лог мада попадает также строка из звездочек. Количество звездочек НЕ 
соответствует длине отправляемой строки с паролем.<br><br>
Является альтернативой команды <a href="#hide" class="cmd">#hide</a>, как более безопасный способ ввода пароля, но менее удобный, так как требует 
постоянного его ввода руками.
<br>Синтаксис команды:<br>
<div class="t">#password ['заголовок']</div><br>
- 'заголовок' - необязательный параметр. Можно указать текст, который будет отображаться в заголовке окна для ввода пароля.<br> 
<br>См.также: <a href="#hide" class="cmd">#hide</a>
<hr>
<a name="output"></a>
<h4>#output</h4>
Выводит текст в основное окно клиента.
<br>Синтаксис команды:<br>
<div class="t">#output ['цвет'] 'текст'</div><br>
- 'цвет' - необязательный параметр. Можно указать цвет текста, с которым нужно его вывести. (См: <a href="#colors">Формат цвета</a>)<br> 
- 'текст' - то, что нужно вывести в главное окно клиента.
<br>См.также: <a href="#woutput" class="cmd">#woutput</a>
<hr>
<a name="sub"></a>
<h4>#sub</h4>
Данная команда добавляет автоматическую 'замену' одной строки, пришедшей от сервера на заданную.<br>
Синтаксис команды:<br>
<div class="t">#sub 'строка для замены' 'нужная строка' ['группа']</div><br>
- 'строка для замены' - строка, которую нужно заменить. (См: <a href="#startline">Ключевые строки</a>)<br>
- 'нужная строка' - строка, которую нужно использовать вместо строки для замены.<br>
- 'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить новую замену. Если параметр не указан, то замена добавляется в первую группу.<br>
<br>Пример:<br>
<div class="e">#sub 'Вы упали' 'ВЫ УПАЛИ!!!'</div><br>
В данном случае, когда ваш персонаж падает, клиент заменяет строку 'Вы упали' на другую 'ВЫ УПАЛИ!!!'. Данную строку проще 
заметить.<br>
<div class="e">#sub '^%0 ударил вас' 'ОН УДАРИЛ ВАС!!!'</div><br>
В данном случае, независимо оттого кто бьет, клиент будет показывать строку 'ОН УДАРИЛ ВАС!!!':<br>
<div class="ee">'Вася ударил вас' -> 'ОН УДАРИЛ ВАС!!!'<br>
'Стражник ворот ударил вас' -> 'ОН УДАРИЛ ВАС!!!'</div><br>
<div class="t">#sub</div><br>
В данном случае, если не указаны параметры, клиент выведет весь список существующих замен.<br>
<div class="t">#sub 'строка'</div><br>
Если указан один параметр, то будут показаны только те замены, которые содержат строку в 'строке для замены'.<br>
<br>См.также: <a href="#unsub" class="cmd">#unsub</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="tab"></a>
<h4>#tab</h4>
Данная команда добавляет в клиент команду для автоподстановок. (См. <a href="#autosets">Автоподстановки</a>)
<br>Синтаксис команды:<br>
<div class="t">#tab 'автоподстановка'</div><br>
'автоподстановка' - команда, которую нужно добавить, чтобы далее ее можно было вводить с помощью первых букв и клавиши TAB.<br>
Обратитие внимание, что автоподстановки не работают с группами!<br>
<br>Пример:<br>
<div class="e">#tab сломать</div><br>
Добавляет строку 'сломать' в автоподстановки. Теперь, чтобы ввести команду сломать, достаточно ввести первую букву или несколько первых 
букв и нажать кнопку TAB. Клиент подставит полностью команду. Если в автоподстановках несколько команд, которые начинаются с одинаковых букв, 
то клиент будет по кнопке TAB перебирать все известные ему варианты.<br>
<div class="t">#tab</div><br>
Если не указаны параметры, то будут показаны все существующие автоподстановки.<br>
<br>См.также: <a href="#untab" class="cmd">#untab</a>
<hr>
<a name="timer"></a>
<h4>#timer</h4>
Таймер позволяет выполнять нужные команды с определенным периодом. Клиент обладает возможностью создавать до 10 таймеров.
<br>Синтаксис команды:<br>
<div class="t">#timer 'номер таймера' 'период' 'команды' ['группа']</div><br>
- 'номер таймера' - числовой идентификатор таймера от 1 до 10.<br>
- 'период' - величина периода таймера секундах.<br>
- 'команды' - команда или набор команд, которые нужно выполнять каждый период.<br>
- 'группа' - необязательный параметр. Указывает имя группы, в которую нужно добавить таймер. Если параметр не указан, то таймер добавляется в первую группу.<br>
Команда добавляет новый таймер.<br>
<br>Например:<br>
<div class="e">#timer 1 60 '#output red Tick'</div><br>
Добавляет таймер #1 с периодом 60 секунд (минута). В конце каждого периода в клиент будет выводится фраза 'Tick' красного цвета.<br>
<br><div class="t">#timer</div><br>
Команда без параметров показывает список всех текущих активных таймеров и состояние таймеров в целом:
<div class="ee">
[tortilla] Таймеры:<br>
Таймеры выключены<br>
#1 60 сек: '#woutput red Tick' 'Tick'<br>
</div>
<br><div class="t">#timer 'номер таймера'</div><br>
Команда показывает состояние таймера с заданным номером.<br>
<br><div class="t">#timer 'номер таймера' 'период'</div><br>
Команда задает новый период срабатывания для заданного таймера.<br>
<br><div class="t">#timer off/disable/выкл</div><br>
Выключает все таймеры.<br>
<br><div class="t">#timer on/enable/вкл</div><br>
Включает все таймеры. Для включения требуется наличие подключение к мад-серверу.<br>
<br>См.также: <a href="#untimer" class="cmd">#untimer</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="unaction"></a>
<h4>#unaction</h4>
Команда удаляет триггер.
<br>Синтаксис команды:<br>
<div class="t">#unaction 'ключевая строка'</div><br>
- 'ключевая строка' - по данному параметру идет поиск.<br>
<br>Например:<br>
<div class="e">#unaction 'упал%1 на землю'</div><br>
Удаляет триггер, срабатывающий	на падения чего либо на землю.<br>
<br>См.также: <a href="#action" class="cmd">#action</a>
<hr>
<a name="unalias"></a>
<h4>#unalias</h4>
Команда удаляет макрос.
<br>Синтаксис команды:<br>
<div class="t">#unalias 'имя макроса'</div><br>
- 'имя макроса' - макрос, который нужно удалить.<br>
<br>Например:<br>
<div class="e">#unalias кп</div><br>
Удаляет макрос 'кп'.<br>
<br>См.также: <a href="#alias" class="cmd">#alias</a>
<hr>
<a name="unantisub"></a>
<h4>#unantisub</h4>
Команда удаляет антизамену.
<br>Синтаксис команды:<br>
<div class="t">#unantisub 'ключевая строка'</div><br>
- 'ключевая строка' - антизамена, которую нужно удалить.<br>
<br>См.также: <a href="#antisub" class="cmd">#antisub</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="ungag"></a>
<h4>#ungag</h4>
Команда удаляет фильтр.
<br>Синтаксис команды:<br>
<div class="t">#ungag 'ключевая строка'</div><br>
- 'ключевая строка' -  фильтр, который нужно удалить.<br>
<br>См.также: <a href="#ungag" class="cmd">#ungag</a>
<hr>
<a name="unhighlight"></a>
<h4>#unhighlight</h4>
Команда удаляет подсветку.
<br>Синтаксис команды:<br>
<div class="t">#unhighlight 'ключевая строка'</div><br>
- 'ключевая строка' - подсветка, которую нужно удалить.<br>
<br>См.также: <a href="#highlight" class="cmd">#highlight</a>
<hr>
<a name="unhotkey"></a>
<h4>#unhotkey</h4>
Команда удаляет горячую клавишу.
<br>Синтаксис команды:<br>
<div class="t">#unhotkey 'клавиша'</div><br>
- 'клавиша' - горячая клавиша, которую нужно удалить.<br>
<br>Например:<br>
<div class="e">#unhotkey F8</div><br>
Удаляет горячую клавишу на кнопке 'F8'.<br>
<br>См.также: <a href="#hotkey" class="cmd">#hotkey</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="unsub"></a>
<h4>#unsub</h4>
Команда удаляет замену.
<br>Синтаксис команды:<br>
<div class="t">#unsub 'ключевая строка'</div><br>
- 'ключевая строка' - замена, которую нужно удалить.<br>
<br>Например:<br>
<div class="e">#unsub 'Вы упали на землю'</div><br>
<br>См.также: <a href="#sub" class="cmd">#sub</a>
<hr>
<a name="untab"></a>
<h4>#untab</h4>
Команда удаляет автоподстановку.
<br>Синтаксис команды:<br>
<div class="t">#untab 'автоподстановка'</div><br>
<br>См.также: <a href="#tab" class="cmd">#tab</a>
<hr>
<h4>#unvar</h4>
Команда удаляет переменную.
<br>Синтаксис команды:<br>
<div class="t">#unvar 'имя переменной'</div><br>
- 'имя переменной' - переменная, которую нужно удалить.<br>
<br>Например:<br>
<div class="e">#unvar 'name'</div><br>
Удаляет переменную с именем 'name'.<br>
<br>См.также: <a href="#var" class="cmd">#var</a>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="var"></a>
<h4>#var</h4>
Данная команда создает переменную.<br>
В качестве имени переменной можно использовать только латинские буквы (большие и маленькие), цифры и знак подчеркивания.<br>
<br>Синтаксис команды:<br>
<div class="t">#var 'имя переменной' 'значение'</div><br>
Если переменная не существовала, то переменная создается. Далее присваивается значение.
<br>
<br>Например:<br>
<div class="e">#var food 'хлеб'</div><br>
Создается переменная food со значением хлеб.<br><br>
<div class="t">#var</div><br>
Команда без параметров выводит список всех переменных.<br>
<div class="t">#var 'строка'</div><br>
Команда выводит все переменные, которые в своем имени содержат заданную строку.<br>
<br>См.также: <a href="#unvar" class="cmd">#unvar</a><br><br>
<hr>
<a name="whide"></a>
<h4>#whide</h4>
Команда скрывает дополнительное окно, если оно отображалось.
<br>Синтаксис команды:<br>
<div class="t">#whide 'номер окна'</div><br>
- 'номер окна' - число от 1 до 6, которое указывает нужное дополнительное окно.<br>
Дополнительно команда снимает выделение чекбоксом у пункта меню, который соответствует данному окну.
<br>См.также: <a href="#wshow" class="cmd">#wshow</a>
<hr>
<a name="wlog"></a>
<a name="wlogn"></a>
<h4>#wlog, #wlogn</h4>
Данная команда начинает запись в указанный файл всей информации, которая попадает в окна клиента, как главного окна, так и всех дополнительных окон.
<br>Синтаксис команды:<br>
<div class="t">#wlog[n] 'номер окна' 'имя файла'</div><br>
- 'номер окна' - число от 0 до 6, которое указывает для какого дополнительного (1-6) окна открывать лог. Номер окна 0 - означает главное окно мада.<br>
- 'имя файла' - путь к файлу, куда нужно записывать лог. Если уже идет запись лога, то текущий лог закрывается и открывается новый.<br><br>
Лог записывается в формате <div class="t">HTML</div>, поэтому его можно просмотреть любым браузером.<br>
Отличие между командами <div class="t">#wlog</div> и <div class="t">#wlogn</div> в том, что <div class="t">#wlog</div> добавляет логи в уже существующий 
файл (если он существует), а <div class="t">#wlogn</div> всегда создает новый файл (стирает старый файл, если он существует).<br><br>
Когда указывает номер окна '0', то команда полностью аналогична командам <a href="#log" class="cmd">#log</a> и <a href="#logn" class="cmd">#logn</a>, 
т.е. лог открывается для главного окна клиента.<br>
Так как логи пишутся в формате <div class="t">HTML</div>, то к имени файла автоматически добавляется расширение <div class="t">.html</div>, 
если расширение не указано, или оно не совпадает с <div class="t">.html</div> или <div class="t">.htm</div>.
<br><div class="t">#wlog[n]</div><br>
Команда без параметров закрывает текущий лог.
<br>См.также: <a href="#log" class="cmd">#log</a>
<hr>
<a name="wname"></a>
<h4>#wname</h4>
Данная команда устанавливает новое название для дополнительного окна.
<br>Синтаксис команды:<br>
<div class="t">#wname 'номер окна' 'название окна'</div><br>
- 'номер окна' - число от 1 до 6, которое указывает нужное дополнительное окно.<br>
- 'название окна' - новое название окна.<br>
Команда меняет не только заголовок дополнительного окна, но и соответствующий пункт меню главного окна. Название окна сохраняется в профиле персонажа.<br>
<p align="right"><a href="#top">В начало</a></p>
<hr>
<a name="woutput"></a>
<h4>#woutput</h4>
Выводит цветной текст в дополнительные окна и в основное окно клиента.
<br>Синтаксис команды:<br>
<div class="t">#woutput 'номер окна' ['цвет'] 'текст'</div><br>
- 'номер окна' - число от 0 до 6, которое указывает нужное дополнительное окно. Значение 0 означает главное окно клиента.<br>
- 'цвет' - необязательный параметр. Можно указать цвет текста, с которым нужно его вывести. (См: <a href="#colors">Формат цвета</a>)<br> 
- 'текст' - то, что нужно вывести в дополнительное окно или в главное окно клиента.
<br>См.также: <a href="#output" class="cmd">#output</a>
<hr>
<a name="wshow"></a>
<h4>#wshow</h4>
Команда показывает дополнительное окно, если оно было скрыто.
<br>Синтаксис команды:<br>
<div class="t">#wshow 'номер окна'</div><br>
- 'номер окна' - число от 1 до 6, которое указывает нужное дополнительное окно.<br>
Дополнительно команда выделяет чекбоксом пункт меню, который соответствует данному окну.
<br>См.также: <a href="#whide" class="cmd">#whide</a>
<hr>
<a name="zap"></a>
<h4>#zap</h4>
Команда разрывает соедениение с сервером. Параметров у команды нет.<br>
<br>Синтаксис команды:<br>
<div class="t">#zap</div><br>
Является синонимом команды <a href="#disconnect" class="cmd">#disconnect</a>.<br>
См.также: <a href="#connect" class="cmd">#connect</a>
<hr>
<br><br><br>
</body>
</html>
